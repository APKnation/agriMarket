import{p as q,u as D,d as R,i as v,o as i,c as m,a as t,t as e,j as s,k as c,b as T,U as E,S as Z,D as $,F as S,r as C,g,y,E as k,w as H,q as O,s as u,v as h,B as X,f as G,h as _,G as F,H as J,P as K}from"./index-vxcYk4Au.js";import{u as I}from"./farmers-CnQxxzjL.js";import{u as Q}from"./crops-Wa7zaDxD.js";import{u as W}from"./products-szdt5bNY.js";import{P as B}from"./plus-HctYyu7r.js";import{U as L}from"./user-plus-DT-sMIMN.js";import{L as Y}from"./leaf-CVhIAYj5.js";import{S as tt}from"./shopping-cart-R5WEZVNu.js";const et={class:"min-h-screen bg-earth-50"},st={class:"page-header px-6 py-8"},ot={class:"max-w-7xl mx-auto flex justify-between items-center"},at={class:"text-3xl font-bold"},rt={class:"text-primary-100 mt-2"},lt={class:"flex space-x-3"},it={class:"max-w-7xl mx-auto px-6 py-8"},nt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ct={class:"card p-6"},dt={class:"flex items-center justify-between"},mt={class:"text-sm font-medium text-gray-600"},ut={class:"text-2xl font-bold text-gray-900 mt-1"},pt={class:"text-xs text-green-600 mt-1"},gt={class:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center"},ht={class:"card p-6"},_t={class:"flex items-center justify-between"},ft={class:"text-sm font-medium text-gray-600"},xt={class:"text-2xl font-bold text-gray-900 mt-1"},vt={class:"text-xs text-green-600 mt-1"},yt={class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},bt={class:"card p-6"},wt={class:"flex items-center justify-between"},St={class:"text-sm font-medium text-gray-600"},Ct={class:"text-2xl font-bold text-gray-900 mt-1"},kt={class:"text-xs text-green-600 mt-1"},Ft={class:"w-12 h-12 bg-accent-100 rounded-full flex items-center justify-center"},Bt={class:"card p-6"},Lt={class:"flex items-center justify-between"},Pt={class:"text-sm font-medium text-gray-600"},jt={class:"text-2xl font-bold text-gray-900 mt-1"},Mt={class:"text-xs text-green-600 mt-1"},zt={class:"w-12 h-12 bg-earth-100 rounded-full flex items-center justify-center"},At={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Nt={class:"lg:col-span-2"},Ut={class:"card p-6"},Vt={class:"h-64"},qt={class:"card p-6"},Dt={class:"text-lg font-semibold text-gray-900 mb-4"},Rt={class:"space-y-4"},Tt={class:"flex-1 min-w-0"},Et={class:"text-sm font-medium text-gray-900"},Zt={class:"text-xs text-gray-500"},$t={class:"text-xs text-gray-400 mt-1"},Ht={class:"mt-8"},Ot={class:"text-lg font-semibold text-gray-900 mb-4"},Xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Gt={class:"flex items-center space-x-4"},Jt={class:"font-medium text-gray-900"},Kt={class:"text-sm text-gray-500"},It={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Qt={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-lg bg-white"},Wt={class:"mt-3"},Yt={class:"text-lg font-medium text-gray-900 mb-4"},te={for:"farmerName",class:"block text-sm font-medium text-gray-700 mb-1"},ee=["placeholder"],se={for:"farmerEmail",class:"block text-sm font-medium text-gray-700 mb-1"},oe=["placeholder"],ae={for:"farmerPhone",class:"block text-sm font-medium text-gray-700 mb-1"},re=["placeholder"],le={for:"farmerLocation",class:"block text-sm font-medium text-gray-700 mb-1"},ie=["placeholder"],ne={for:"farmSize",class:"block text-sm font-medium text-gray-700 mb-1"},ce={value:""},de={value:"1-5"},me={value:"6-20"},ue={value:"21+"},pe={class:"flex justify-end space-x-3 pt-4"},ge={type:"submit",class:"btn-primary"},Ce={__name:"DashboardView",setup(he){const b=q(),o=D(),f=I(),P=Q(),j=W(),x=_(null),d=_(!1),l=_({name:"",email:"",phone:"",location:"",farmSize:""}),p=F(()=>({totalFarmers:f.getFarmers().length,activeCrops:P.getCrops().filter(n=>n.status==="growing").length,productsListed:j.getProducts().filter(n=>n.available).length,totalRevenue:45e5})),M=_([{id:1,title:"New Farmer Registration",description:"David Kimaro joined the platform",time:"2 hours ago",icon:L,iconColor:"text-primary-600",iconBg:"bg-primary-100"},{id:2,title:"Crop Harvested",description:"John Mwangi harvested 750kg of beans",time:"4 hours ago",icon:Y,iconColor:"text-green-600",iconBg:"bg-green-100"},{id:3,title:"New Order Placed",description:"Mary Market ordered 200kg of maize",time:"6 hours ago",icon:tt,iconColor:"text-accent-600",iconBg:"bg-accent-100"},{id:4,title:"Payment Received",description:"Payment of TZS 300,000 processed",time:"1 day ago",icon:J,iconColor:"text-earth-600",iconBg:"bg-earth-100"}]),z=F(()=>{const n=[{title:o.t("registerFarmer"),description:"Add a new farmer to the system",to:"/farmers",icon:L,iconColor:"text-primary-600",iconBg:"bg-primary-100"},{title:o.t("addCrop"),description:"Register a new crop planting",to:"/crops",icon:B,iconColor:"text-green-600",iconBg:"bg-green-100"},{title:o.t("listProduct"),description:"Add products to marketplace",to:"/products/new",icon:K,iconColor:"text-accent-600",iconBg:"bg-accent-100"}];return b.isFarmer?n.filter(r=>["registerFarmer","addCrop","listProduct"].includes(r.title.replace(/[^a-zA-Z]/g,""))):n}),A=()=>{console.log("saveFarmer called",l.value),console.log("farmersStore:",f),f.addFarmer(l.value),d.value=!1,window.addNotification({type:"success",title:"Farmer Added",message:"Farmer has been successfully added to the system."})};return R(()=>{x.value&&x.value.getContext("2d")}),(n,r)=>{var w;const N=v("TrendingUp"),U=v("router-link"),V=v("X");return i(),m("div",et,[t("div",st,[t("div",ot,[t("div",null,[t("h1",at,e(s(o).t("dashboard")),1),t("p",rt,e(s(o).t("welcomeBack"))+", "+e((w=s(b).user)==null?void 0:w.name)+"! "+e(s(o).t("overview")),1)]),t("div",lt,[t("button",{onClick:r[0]||(r[0]=a=>d.value=!0),class:"btn-primary"},[c(s(B),{class:"w-4 h-4 mr-2"}),T(" "+e(s(o).t("addFarmer")),1)])])])]),t("div",it,[t("div",nt,[t("div",ct,[t("div",dt,[t("div",null,[t("p",mt,e(s(o).t("totalFarmers")),1),t("p",ut,e(p.value.totalFarmers),1),t("p",pt,"+12% "+e(s(o).t("fromLastMonth")),1)]),t("div",gt,[c(s(E),{class:"w-6 h-6 text-primary-600"})])])]),t("div",ht,[t("div",_t,[t("div",null,[t("p",ft,e(s(o).t("activeCrops")),1),t("p",xt,e(p.value.activeCrops),1),t("p",vt,"+8% "+e(s(o).t("fromLastMonth")),1)]),t("div",yt,[c(s(Z),{class:"w-6 h-6 text-green-600"})])])]),t("div",bt,[t("div",wt,[t("div",null,[t("p",St,e(s(o).t("productsListed")),1),t("p",Ct,e(p.value.productsListed),1),t("p",kt,"+25% "+e(s(o).t("fromLastMonth")),1)]),t("div",Ft,[c(s($),{class:"w-6 h-6 text-accent-600"})])])]),t("div",Bt,[t("div",Lt,[t("div",null,[t("p",Pt,e(s(o).t("totalRevenue")),1),t("p",jt,"TZS "+e(p.value.totalRevenue.toLocaleString()),1),t("p",Mt,"+18% "+e(s(o).t("fromLastMonth")),1)]),t("div",zt,[c(N,{class:"w-6 h-6 text-earth-600"})])])])]),t("div",At,[t("div",Nt,[t("div",Ut,[r[8]||(r[8]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Monthly Overview",-1)),t("div",Vt,[t("canvas",{ref_key:"chartCanvas",ref:x},null,512)])])]),t("div",qt,[t("h2",Dt,e(s(o).t("recentActivity")),1),t("div",Rt,[(i(!0),m(S,null,C(M.value,a=>(i(),m("div",{key:a.id,class:"flex items-start space-x-3"},[t("div",{class:g(["w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",a.iconBg])},[(i(),y(k(a.icon),{class:g([a.iconColor,"w-4 h-4"])},null,8,["class"]))],2),t("div",Tt,[t("p",Et,e(a.title),1),t("p",Zt,e(a.description),1),t("p",$t,e(a.time),1)])]))),128))])])]),t("div",Ht,[t("h2",Ot,e(s(o).t("quickActions")),1),t("div",Xt,[(i(!0),m(S,null,C(z.value,a=>(i(),y(U,{key:a.title,to:a.to,class:"card p-6 hover:shadow-lg transition-shadow cursor-pointer group"},{default:H(()=>[t("div",Gt,[t("div",{class:g(["w-12 h-12 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",a.iconBg])},[(i(),y(k(a.icon),{class:g([a.iconColor,"w-6 h-6"])},null,8,["class"]))],2),t("div",null,[t("h3",Jt,e(a.title),1),t("p",Kt,e(a.description),1)])])]),_:2},1032,["to"]))),128))])]),d.value?(i(),m("div",It,[t("div",Qt,[t("div",Wt,[t("h3",Yt,e(s(o).t("addFarmer")),1),t("form",{onSubmit:O(A,["prevent"]),class:"space-y-4"},[t("div",null,[t("label",te,e(s(o).t("name")),1),u(t("input",{id:"farmerName","onUpdate:modelValue":r[1]||(r[1]=a=>l.value.name=a),type:"text",required:"",class:"input-field",placeholder:s(o).t("enterName")},null,8,ee),[[h,l.value.name]])]),t("div",null,[t("label",se,e(s(o).t("emailAddress")),1),u(t("input",{id:"farmerEmail","onUpdate:modelValue":r[2]||(r[2]=a=>l.value.email=a),type:"email",required:"",class:"input-field",placeholder:s(o).t("enterEmail")},null,8,oe),[[h,l.value.email]])]),t("div",null,[t("label",ae,e(s(o).t("phoneNumber")),1),u(t("input",{id:"farmerPhone","onUpdate:modelValue":r[3]||(r[3]=a=>l.value.phone=a),type:"tel",required:"",class:"input-field",placeholder:s(o).t("enterPhone")},null,8,re),[[h,l.value.phone]])]),t("div",null,[t("label",le,e(s(o).t("location")),1),u(t("input",{id:"farmerLocation","onUpdate:modelValue":r[4]||(r[4]=a=>l.value.location=a),type:"text",required:"",class:"input-field",placeholder:s(o).t("enterLocation")},null,8,ie),[[h,l.value.location]])]),t("div",null,[t("label",ne,e(s(o).t("farmSize")),1),u(t("select",{id:"farmSize","onUpdate:modelValue":r[5]||(r[5]=a=>l.value.farmSize=a),required:"",class:"input-field"},[t("option",ce,e(s(o).t("selectFarmSize")),1),t("option",de,e(s(o).t("small"))+" (1-5 "+e(s(o).t("acres"))+")",1),t("option",me,e(s(o).t("medium"))+" (6-20 "+e(s(o).t("acres"))+")",1),t("option",ue,e(s(o).t("large"))+" (21+ "+e(s(o).t("acres"))+")",1)],512),[[X,l.value.farmSize]])]),t("div",pe,[t("button",{type:"button",onClick:r[6]||(r[6]=a=>d.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200"},e(s(o).t("cancel")),1),t("button",ge,e(s(o).t("addFarmer")),1)])],32)]),t("button",{onClick:r[7]||(r[7]=a=>d.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600"},[c(V,{class:"w-6 h-6"})])])])):G("",!0)])])}}};export{Ce as default};
