import{C as B,J as N,d as U,o,c as i,a as e,k as v,j as f,b as _,t as l,g as m,I as L,f as c,s as x,v as p,q as M,F as k,r as S,h as y,G as F}from"./index-vxcYk4Au.js";import{u as $}from"./farmers-CnQxxzjL.js";import{u as E}from"./crops-Wa7zaDxD.js";import{u as T}from"./products-szdt5bNY.js";import{P as q}from"./pen-square-CDjbir98.js";import{S as A}from"./star-GGGm7nzH.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=B("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),H={class:"min-h-screen bg-earth-50"},R={key:0,class:"max-w-7xl mx-auto px-6 py-8"},Y={class:"card p-6 mb-6"},J={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},O={class:"flex items-center space-x-4"},Q={class:"w-20 h-20 bg-primary-600 rounded-full flex items-center justify-center"},Z={class:"text-white font-bold text-xl"},K={class:"text-2xl font-bold text-gray-900"},W={class:"text-gray-600"},X={class:"flex items-center space-x-4 mt-2"},ee={class:"text-sm text-gray-500"},te={class:"text-sm text-gray-500"},se={class:"flex space-x-2 mt-4 md:mt-0"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},le={class:"card p-6 text-center"},re={class:"text-2xl font-bold text-gray-900 mt-1"},oe={class:"card p-6 text-center"},ie={class:"text-2xl font-bold text-gray-900 mt-1"},ne={class:"card p-6 text-center"},de={class:"flex items-center justify-center mt-1"},ue={class:"text-2xl font-bold text-gray-900 ml-1"},me={class:"card p-6 text-center"},ce={class:"text-2xl font-bold text-gray-900 mt-1"},xe={key:0,class:"card p-6 mb-6"},pe={class:"card"},ve={class:"border-b border-gray-200"},fe={class:"flex space-x-8 px-6"},ye={class:"p-6"},ge={key:0},be={class:"space-y-4"},_e={class:"flex justify-between items-start"},he={class:"font-medium text-gray-900"},we={class:"text-sm text-gray-600"},ke={class:"text-sm text-gray-600"},Se={class:"text-sm text-gray-600"},Fe={key:1},Ce={class:"space-y-4"},Ve={class:"flex justify-between items-start"},De={class:"font-medium text-gray-900"},Pe={class:"text-sm text-gray-600"},ze={class:"text-sm text-gray-600"},$e={__name:"FarmerDetailView",setup(Ie){const C=N(),g=$(),V=E(),D=T(),a=y(null),u=y(!1),d=y("crops"),r=y({name:"",email:"",phone:"",location:"",farmSize:""}),h=F(()=>a.value?V.getCropsByFarmer(a.value.id):[]),w=F(()=>a.value?D.getProductsByFarmer(a.value.id):[]),P=n=>n.split(" ").map(t=>t[0]).join("").toUpperCase(),b=n=>new Date(n).toLocaleDateString(),z=n=>{switch(n){case"growing":return"bg-green-100 text-green-800";case"harvested":return"bg-blue-100 text-blue-800";case"planted":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},I=()=>{g.verifyFarmer(a.value.id),a.value.verified=!0,window.addNotification({type:"success",title:"Farmer Verified",message:`${a.value.name} has been verified.`})},j=()=>{g.updateFarmer(a.value.id,r.value),a.value={...a.value,...r.value},u.value=!1,window.addNotification({type:"success",title:"Farmer Updated",message:"Farmer information has been updated."})};return U(()=>{const n=C.params.id;a.value=g.getFarmerById(n),a.value&&(r.value={...a.value})}),(n,t)=>(o(),i("div",H,[a.value?(o(),i("div",R,[e("button",{onClick:t[0]||(t[0]=s=>n.$router.go(-1)),class:"flex items-center text-primary-600 hover:text-primary-800 mb-6"},[v(f(G),{class:"w-4 h-4 mr-2"}),t[9]||(t[9]=_(" Back to Farmers ",-1))]),e("div",Y,[e("div",J,[e("div",O,[e("div",Q,[e("span",Z,l(P(a.value.name)),1)]),e("div",null,[e("h1",K,l(a.value.name),1),e("p",W,"Farmer ID: #"+l(a.value.id),1),e("div",X,[e("span",ee,l(a.value.location),1),e("span",te,l(a.value.phone),1),e("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",a.value.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},l(a.value.verified?"Verified":"Pending Verification"),3)])])]),e("div",se,[e("button",{onClick:t[1]||(t[1]=s=>u.value=!u.value),class:"btn-secondary"},[v(f(q),{class:"w-4 h-4 mr-2"}),_(" "+l(u.value?"Cancel":"Edit"),1)]),a.value.verified?c("",!0):(o(),i("button",{key:0,onClick:I,class:"btn-primary"},[v(f(L),{class:"w-4 h-4 mr-2"}),t[10]||(t[10]=_(" Verify Farmer ",-1))]))])])]),e("div",ae,[e("div",le,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Farm Size",-1)),e("p",re,l(a.value.farmSize)+" ha",1)]),e("div",oe,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Yield",-1)),e("p",ie,l(a.value.totalYield)+" kg",1)]),e("div",ne,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Rating",-1)),e("div",de,[v(f(A),{class:"w-5 h-5 text-yellow-400 fill-current"}),e("span",ue,l(a.value.rating),1)])]),e("div",me,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Member Since",-1)),e("p",ce,l(b(a.value.registrationDate)),1)])]),u.value?(o(),i("div",xe,[t[21]||(t[21]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Edit Farmer Information",-1)),e("form",{onSubmit:M(j,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.name=s),type:"text",class:"input-field"},null,512),[[p,r.value.name]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.email=s),type:"email",class:"input-field"},null,512),[[p,r.value.email]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.phone=s),type:"tel",class:"input-field"},null,512),[[p,r.value.phone]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),x(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.value.location=s),type:"text",class:"input-field"},null,512),[[p,r.value.location]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Farm Size (ha)",-1)),x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.farmSize=s),type:"number",step:"0.1",class:"input-field"},null,512),[[p,r.value.farmSize]])]),t[20]||(t[20]=e("div",{class:"flex items-end"},[e("button",{type:"submit",class:"btn-primary w-full"},"Save Changes")],-1))],32)])):c("",!0),e("div",pe,[e("div",ve,[e("nav",fe,[e("button",{onClick:t[7]||(t[7]=s=>d.value="crops"),class:m(["py-4 px-1 border-b-2 font-medium text-sm",d.value==="crops"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Crops ("+l(h.value.length)+") ",3),e("button",{onClick:t[8]||(t[8]=s=>d.value="products"),class:m(["py-4 px-1 border-b-2 font-medium text-sm",d.value==="products"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Products ("+l(w.value.length)+") ",3)])]),e("div",ye,[d.value==="crops"?(o(),i("div",ge,[e("div",be,[(o(!0),i(k,null,S(h.value,s=>(o(),i("div",{key:s.id,class:"border rounded-lg p-4"},[e("div",_e,[e("div",null,[e("h3",he,l(s.name),1),e("p",we,"Planted: "+l(b(s.plantingDate)),1),e("p",ke,"Expected: "+l(b(s.expectedHarvest)),1),e("p",Se,"Status: "+l(s.status),1)]),e("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",z(s.status)])},l(s.status),3)])]))),128))])])):c("",!0),d.value==="products"?(o(),i("div",Fe,[e("div",Ce,[(o(!0),i(k,null,S(w.value,s=>(o(),i("div",{key:s.id,class:"border rounded-lg p-4"},[e("div",Ve,[e("div",null,[e("h3",De,l(s.name),1),e("p",Pe,l(s.quantity)+" "+l(s.unit)+" @ TZS "+l(s.price),1),e("p",ze,"Quality: "+l(s.quality)+" Grade",1)]),e("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",s.available?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(s.available?"Available":"Sold Out"),3)])]))),128))])])):c("",!0)])])])):c("",!0)]))}};export{$e as default};
