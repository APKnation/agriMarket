import{m as _,p as k,u as A,i as C,o as i,c as u,a as e,t as r,j as o,q as V,f as E,s as y,v as S,x as B,y as b,z as M,b as m,l as P,k as T,w as U,h as x}from"./index-vxcYk4Au.js";import{E as N}from"./eye-BaW1UGXT.js";import{E as j}from"./eye-off-CZQt8Jmd.js";const D={class:"min-h-screen bg-gradient-to-br from-primary-50 to-earth-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},F={class:"max-w-md w-full space-y-8"},L={class:"text-center"},q={class:"text-center"},z={class:"text-3xl font-bold text-gray-900"},H={class:"mt-2 text-sm text-gray-600"},I={class:"card p-8"},O={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"},R={for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},$={class:"relative"},G=["type"],J={class:"flex items-center justify-between"},K={class:"flex items-center"},Q={for:"remember",class:"ml-2 block text-sm text-gray-700"},W={href:"#",class:"text-sm text-primary-600 hover:text-primary-500"},X=["disabled"],Y={key:0,class:"flex items-center justify-center"},Z={key:1},ee={class:"text-center"},te={class:"text-sm text-gray-600"},le={__name:"LoginView",setup(se){const g=_(),v=k(),s=A(),a=x({phone:"",password:"",remember:!1}),c=x(!1),n=x(""),p=x(!1),f=async()=>{c.value=!0,n.value="";try{const l=await v.login(a.value);if(l.success){const t=l.redirectPath||"/dashboard";g.push(t)}else n.value=l.error||s.t("loginFailed")}catch{n.value=s.t("unexpectedError")}finally{c.value=!1}},w=async()=>{const l={phone:"admin@sfmp.com",password:"password123"};(await v.login(l)).success?g.push("/admin"):n.value="Failed to login with temporary admin credentials."};return(l,t)=>{const h=C("router-link");return i(),u("div",D,[e("div",F,[e("div",L,[t[4]||(t[4]=e("div",{class:"w-20 h-20 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4"},[e("span",{class:"text-white font-bold text-3xl"},"SFMP")],-1)),e("div",q,[e("h1",z,r(o(s).t("welcomeBack")),1),e("p",H,r(o(s).t("signInToAccount")),1)])]),e("div",I,[e("form",{onSubmit:V(f,["prevent"]),class:"space-y-6"},[n.value?(i(),u("div",O,r(n.value),1)):E("",!0),e("div",null,[e("label",R,r(o(s).t("phoneNumber"))+" / Username ",1),y(e("input",{id:"phone","onUpdate:modelValue":t[0]||(t[0]=d=>a.value.phone=d),type:"text",required:"",class:"input-field",placeholder:"Enter phone number or username"},null,512),[[S,a.value.phone]]),t[5]||(t[5]=e("p",{class:"text-xs text-gray-500 mt-1"},' Use phone number or "admin" for admin access ',-1))]),e("div",null,[t[6]||(t[6]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Password ",-1)),e("div",$,[y(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=d=>a.value.password=d),type:p.value?"text":"password",required:"",class:"input-field pr-10",placeholder:"Enter your password"},null,8,G),[[B,a.value.password]]),e("button",{type:"button",onClick:t[2]||(t[2]=d=>p.value=!p.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[p.value?(i(),b(o(j),{key:1,class:"w-5 h-5 text-gray-400"})):(i(),b(o(N),{key:0,class:"w-5 h-5 text-gray-400"}))])])]),e("div",J,[e("div",K,[y(e("input",{id:"remember","onUpdate:modelValue":t[3]||(t[3]=d=>a.value.remember=d),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[M,a.value.remember]]),e("label",Q,r(o(s).t("rememberMe")),1)]),e("a",W,r(o(s).t("forgotPassword")),1)]),e("button",{type:"submit",disabled:c.value,class:"w-full btn-primary py-3 text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed"},[c.value?(i(),u("span",Y,[...t[7]||(t[7]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Signing in... ",-1)])])):(i(),u("span",Z,r(o(s).t("signIn")),1))],8,X)],32),t[12]||(t[12]=P('<div class="mt-6 pt-6 border-t border-gray-200"><p class="text-sm text-gray-600 mb-3">Demo Accounts:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-xs"><div class="bg-gray-50 p-2 rounded"><strong>Farmer:</strong> +255712345678 / password </div><div class="bg-gray-50 p-2 rounded"><strong>Buyer:</strong> +255713456789 / password </div><div class="bg-gray-50 p-2 rounded"><strong>Cooperative:</strong> +255714567890 / password </div><div class="bg-gray-50 p-2 rounded"><strong>Admin:</strong> admin / password </div></div></div>',1)),e("div",{class:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},[e("div",{class:"text-center"},[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-yellow-800 mb-2"},"ðŸ”§ Temporary Admin Access",-1)),t[10]||(t[10]=e("p",{class:"text-sm text-yellow-700 mb-4"}," For development purposes only. Admin accounts will be created through the backend system. ",-1)),e("div",{class:"bg-white p-3 rounded border border-yellow-300"},[t[8]||(t[8]=e("p",{class:"text-xs font-mono text-gray-700 mb-2"},[e("strong",null,"Temporary Credentials:"),e("br"),m(" Email: admin@sfmp.com"),e("br"),m(" Password: password123 ")],-1)),e("button",{onClick:w,class:"w-full bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700 text-sm font-medium"}," Use Admin Account ")]),t[11]||(t[11]=e("p",{class:"text-xs text-yellow-600 mt-2"}," âš ï¸ This is for development only and will be removed in production. ",-1))])])]),e("div",ee,[e("p",te,[m(r(o(s).t("dontHaveAccount"))+" ",1),T(h,{to:"/register",class:"font-medium text-primary-600 hover:text-primary-500"},{default:U(()=>[m(r(o(s).t("signUpHere")),1)]),_:1})])])])])}}};export{le as default};
